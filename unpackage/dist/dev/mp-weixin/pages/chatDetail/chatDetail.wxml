<view class="chat-container"><scroll-view class="message-scroll-view" scroll-y style="{{'height:' + c}}" scroll-into-view="{{d}}" scroll-with-animation bindscrolltoupper="{{e}}"><view wx:if="{{a}}" class="loading-more">正在加载更多...</view><view wx:for="{{b}}" wx:for-item="msg" wx:key="y" id="{{msg.z}}"><view class="{{['message-item', msg.v, msg.w, msg.x]}}"><image wx:if="{{msg.a}}" class="system-icon" src="{{msg.b}}" mode="aspectFill"/><image wx:else class="avatar" src="{{msg.c}}" mode="aspectFill" binderror="{{msg.d}}"/><view class="msg-content"><view class="{{['bubble', msg.s && 'revoked']}}" bindlongpress="{{msg.t}}"><text wx:if="{{msg.e}}">{{msg.f}}</text><image wx:if="{{msg.g}}" class="msg-image" src="{{msg.h}}" mode="aspectFit" bindtap="{{msg.i}}"/><view wx:if="{{msg.j}}" class="location-msg" bindtap="{{msg.o}}"><image class="map-thumb" src="{{msg.k}}" mode="aspectFill" binderror="{{msg.l}}"/><view class="map-info"><text class="map-title">{{msg.m}}</text><text class="map-address">{{msg.n}}</text></view></view><text wx:if="{{msg.p}}" class="revoked-text">{{msg.q}}撤回了一条消息</text><view class="time">{{msg.r}}</view></view></view></view></view></scroll-view><view class="input-bar" style="{{'bottom:' + n}}"><image src="{{f}}" class="icon-btn" bindtap="{{g}}"/><image src="{{h}}" class="icon-btn" bindtap="{{i}}"/><input class="input" placeholder="请输入消息..." confirm-type="send" bindconfirm="{{j}}" adjust-position="{{false}}" cursor-spacing="20" value="{{k}}" bindinput="{{l}}"/><button class="send-btn" bindtap="{{m}}">发送</button></view></view>