{"version":3,"file":"Homepage.js","sources":["pages/Homepage/Homepage.vue","../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvSG9tZXBhZ2UvSG9tZXBhZ2UudnVl"],"sourcesContent":["<template>\n  <view class=\"homepage-container\">\n    <view style=\"padding:50rpx 30rpx; min-height: 50vh;\" v-if=\"!providerShowcase || Object.keys(providerShowcase).length === 0\">\n      <view class=\"skeleton-title\"></view>\n      <view class=\"skeleton-row\" v-for=\"i in 5\" :key=\"i\"></view>\n    </view>\n\n    <view v-else class=\"worker-detail\">\n      <swiper class=\"banner-swiper\" autoplay interval=\"3000\" circular indicator-dots>\n        <swiper-item v-for=\"(item, index) in bannerImages\" :key=\"index\">\n          <image\n            :src=\"item.url\"\n            class=\"banner-image\"\n            @click=\"onBannerTap(index)\"\n            @longpress=\"onBannerLongPress(index)\"\n            mode=\"aspectFill\"\n          />\n        </swiper-item>\n        <swiper-item v-if=\"bannerImages.length === 0\">\n          <view class=\"empty-banner\">\n            <text>点击下方按钮上传展示图片</text>\n          </view>\n        </swiper-item>\n      </swiper>\n\n      <view class=\"upload-banner-btn\" @click=\"uploadSingleBannerImage\">\n        <text>{{ bannerImages.length ? '管理轮播图' : '上传轮播图' }}</text>\n      </view>\n\n      <view class=\"category-section\">\n        <view class=\"section-title\">服务分类（最多5个）</view>\n        <view class=\"category-selector\">\n          <view class=\"selected-categories\">\n            <text v-if=\"selectedCategories.length === 0\" class=\"placeholder-text\">请选择服务分类</text>\n            <view v-for=\"(item, index) in selectedCategories\" :key=\"index\" class=\"category-tag\">\n              <text>{{ item.classname }}</text>\n              <text class=\"remove-btn\" @click=\"removeCategory(index)\">×</text>\n            </view>\n          </view>\n          <picker mode=\"selector\" :range=\"categories\" @change=\"onCategorySelect\">\n            <view class=\"picker-btn\">\n              <text>+ 添加分类</text>\n            </view>\n          </picker>\n        </view>\n      </view>\n\n      <view class=\"basic-info\">\n        <image class=\"avatar\" :src=\"userInfo.avatar\" mode=\"aspectFill\" />\n        <view class=\"info-text\">\n          <view class=\"name\">{{ userInfo.name }}</view>\n          <view class=\"tags\">\n            <view class=\"editable-field\" @click=\"openAgeInput\">\n              {{ providerShowcase.age ? providerShowcase.age + '岁' : '请填写年龄' }}\n            </view>\n          </view>\n          <view class=\"area\">\n            {{ providerShowcase.serviceArea || '请选择服务区域' }}\n          </view>\n        </view>\n      </view>\n\n      <view class=\"input-mask\" v-if=\"showAgeInput\">\n        <view class=\"input-box\">\n          <view class=\"input-header\">编辑年龄</view>\n          <input\n            class=\"tag-input\"\n            placeholder=\"请输入年龄（数字）\"\n            type=\"number\"\n            v-model=\"tempAge\"\n          />\n          <view class=\"input-actions\">\n            <view class=\"action-btn cancel\" @click=\"cancelAgeInput\">取消</view>\n            <view class=\"action-btn confirm\" @click=\"confirmAgeInput\">确定</view>\n          </view>\n        </view>\n      </view>\n\n      <view class=\"input-section\">\n        <view class=\"section-title\">服务区域</view>\n        <view class=\"service-area\">\n          <text>{{ providerShowcase.serviceArea || '点击选择服务区域' }}</text>\n          <button class=\"select-area-btn\" @click=\"selectServiceArea\">选择区域</button>\n        </view>\n      </view>\n\t  \n\t  <view class=\"input-section\"> <view class=\"section-title\">最远可服务距离（km）</view>\n          <input\n            class=\"common-input\"\n            type=\"number\"\n            inputmode=\"decimal\"\n            step=\"0.1\"\n            max=\"10\"\n            v-model.number=\"providerShowcase.maxServiceDistance\"\n            placeholder=\"请输入最远服务距离，1~10 之间\"\n            @blur=\"onMaxServiceDistanceBlur\"\n          />\n      </view>\n\n      <view class=\"input-section\">\n        <view class=\"section-title\">手机号</view>\n        <input\n          class=\"common-input\"\n          type=\"number\"\n          placeholder=\"请输入手机号\"\n          v-model=\"providerShowcase.phoneNumber\"\n        />\n      </view>\n\n      <view class=\"service-section\">\n        <view class=\"section-title\">服务项目</view>\n        <view class=\"tag-list\">\n          <view v-if=\"providerShowcase.skills.length === 0\" class=\"empty-tips\">点击下方 + 添加服务项目</view>\n          <view v-for=\"(skill, index) in providerShowcase.skills\" :key=\"index\" class=\"tag-item\" @longpress=\"onSkillLongPress(index)\">\n            <text class=\"skill-tag\">{{ skill }}</text>\n          </view>\n          <view class=\"add-tag\" @click=\"showAddTagInput\">+</view>\n        </view>\n      </view>\n\n      <view class=\"input-section\">\n        <view class=\"section-title\">服务报价</view>\n        <input\n          class=\"common-input\"\n          v-model=\"providerShowcase.price\"\n          placeholder=\"请输入服务价格（示例：300元/天）\"\n        />\n      </view>\n\n      <view class=\"input-section\">\n        <view class=\"section-title\">个人简介</view>\n        <textarea\n          class=\"common-textarea\"\n          v-model=\"providerShowcase.description\"\n          placeholder=\"请描述您的专业技能和服务特色...\"\n        />\n      </view>\n\n      <view class=\"case-section\">\n        <view class=\"section-title\">案例展示</view>\n        <view class=\"media-list\">\n          <view v-if=\"media.length === 0\" class=\"empty-tips\">点击 + 上传施工案例（图片/视频）</view>\n          <view v-for=\"(item, index) in media\" :key=\"index\" class=\"media-item\" @longpress=\"onMediaLongPress(index)\">\n            <image v-if=\"item.type === 'image'\" :src=\"item.url\" mode=\"aspectFill\" />\n            <video v-if=\"item.type === 'video'\" :src=\"item.url\" controls />\n          </view>\n          <view class=\"add-tag\" @click=\"addMedia\">+</view>\n        </view>\n      </view>\n\n      <view class=\"save-btn\" @click=\"saveProviderShowcase\">保存信息</view>\n\n      <view class=\"input-mask\" v-if=\"showTagInput\">\n        <view class=\"input-box\">\n          <view class=\"input-header\">添加服务项目</view>\n          <input\n            class=\"tag-input\"\n            placeholder=\"请输入服务内容（最多12字）\"\n            maxlength=\"12\"\n            v-model=\"newTagText\"\n          />\n          <view class=\"input-actions\">\n            <view class=\"action-btn cancel\" @click=\"cancelAddTag\">取消</view>\n            <view class=\"action-btn confirm\" @click=\"confirmAddTag\">确定</view>\n          </view>\n        </view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, reactive, onMounted } from 'vue'\n\n// 仅在微信小程序和 App-PLUS 环境下初始化 QQMap\nlet qqmapsdk = null\n// #ifdef MP-WEIXIN || APP-PLUS\nconst QQMapWX = require('../../static/js/qqmap-wx-jssdk.js')\nqqmapsdk = new QQMapWX({\n  key: 'ZOYBZ-S7V6G-OSQQ2-QA54H-2PBHE-CXF46'\n})\n// #endif\n\n// 从本地存储读取用户信息\nconst userInfo = uni.getStorageSync('userinfo') || {}\n\n// 校验用户信息\nfunction validateUserInfo(info) {\n  return info.phoneNumber && info.name && info.avatar\n}\n\nif (!validateUserInfo(userInfo)) {\n  uni.showToast({ title: '用户信息不完整', icon: 'none' })\n}\n\n// 响应式数据\nconst providerShowcase = reactive({\n  age: '',\n  serviceArea: '',\n  latitude: null,\n  longitude: null,\n  maxServiceDistance: 10,\n  skills: [],\n  price: '',\n  description: '',\n  categories: [],\n  phoneNumber: userInfo.phoneNumber || '',\n  // 数据库中存储的 bannerImages 和 media 的 cloud:// ID\n  bannerCloudIDs: [], // 新增：存储轮播图的 cloud:// ID\n  mediaCloudItems: [] // 新增：存储媒体的 cloud:// ID 和类型，格式为 [{ src: 'cloud://', type: 'image' }]\n})\n\n// 用于前端渲染的 bannerImages 和 media, 存储临时 HTTPS URL\nconst bannerImages = ref([]) // 格式：[{ url: 'https://...', fileID: 'cloud://...' }]\nconst media = ref([]) // 格式：[{ url: 'https://...', type: 'image', fileID: 'cloud://...' }]\n\nconst navArr = ref([])\nconst categories = ref([])\nconst selectedCategories = ref([])\nconst showTagInput = ref(false)\nconst newTagText = ref('')\nconst showAgeInput = ref(false)\nconst tempAge = ref('')\n\n// 云开发环境 ID（根据你的实际环境 ID 修改）\nconst cloudEnv = 'mp-1240ebd5-749c-4abc-b593-fd807f0347fb'\n\n// 加载主页数据\nasync function loadHomepageData(phoneNumber) {\n  try {\n    const res = await uniCloud.callFunction({\n      name: 'getHomepage',\n      data: { phoneNumber }\n    })\n    if (res.result.success) {\n      await updatePageData(res.result.data || {}) // 确保等待 updatePageData 完成\n    } else {\n      uni.showToast({ title: '数据加载失败', icon: 'none' })\n    }\n  } catch (err) {\n    console.error('加载失败:', err)\n    uni.showToast({ title: '加载出错', icon: 'none' })\n  }\n}\n\n// 更新页面数据\nasync function updatePageData(cloudData) {\n  Object.assign(providerShowcase, {\n    age: cloudData.age || '',\n    serviceArea: cloudData.serviceArea || '',\n    latitude: cloudData.latitude || null,\n    longitude: cloudData.longitude || null,\n    maxServiceDistance: cloudData.maxServiceDistance || 10,\n    skills: cloudData.skills || [],\n    price: cloudData.price || '',\n    description: cloudData.description || '',\n    categories: cloudData.categories || [],\n    phoneNumber: cloudData.phoneNumber || providerShowcase.phoneNumber,\n    // 从数据库加载原始 cloud:// ID 到 providerShowcase\n    bannerCloudIDs: cloudData.bannerImages || [],\n    mediaCloudItems: cloudData.media || []\n  })\n\n  // 将 bannerCloudIDs 转换为临时 URL 供前端渲染\n  if (providerShowcase.bannerCloudIDs.length > 0) {\n    try {\n      const tempFileURLsResult = await uniCloud.getTempFileURL({\n        fileList: providerShowcase.bannerCloudIDs,\n      })\n      bannerImages.value = tempFileURLsResult.fileList.map(file => ({\n        url: file.tempFileURL,\n        fileID: file.fileID // 保存 cloud ID 以便后续操作，如删除\n      }))\n    } catch (err) {\n      console.error('获取轮播图临时链接失败:', err)\n      bannerImages.value = []\n    }\n  } else {\n    bannerImages.value = []\n  }\n\n  // 将 mediaCloudItems 转换为临时 URL 供前端渲染\n  if (providerShowcase.mediaCloudItems.length > 0) {\n    const mediaFileIDs = providerShowcase.mediaCloudItems.map(item => item.src)\n    try {\n      const tempMediaURLsResult = await uniCloud.getTempFileURL({\n        fileList: mediaFileIDs,\n      })\n      media.value = tempMediaURLsResult.fileList.map((file, index) => ({\n        url: file.tempFileURL,\n        type: providerShowcase.mediaCloudItems[index].type,\n        fileID: file.fileID // 保存 cloud ID\n      }))\n    } catch (err) {\n      console.error('获取媒体临时链接失败:', err)\n      media.value = []\n    }\n  } else {\n    media.value = []\n  }\n\n  selectedCategories.value = mapCategories(providerShowcase.categories || [])\n}\n\n// 获取导航数据\nasync function getNavData() {\n  try {\n    const res = await uniCloud.callFunction({ name: 'getNavData' })\n    const arr = res.result.data || []\n    navArr.value = arr\n    categories.value = arr.map(i => i.classname)\n    if (providerShowcase.categories.length) {\n      selectedCategories.value = mapCategories(providerShowcase.categories)\n    }\n  } catch (err) {\n    console.error(err)\n    uni.showToast({ title: '分类加载失败', icon: 'none' })\n  }\n}\n\n// 映射分类\nfunction mapCategories(ids) {\n  return ids.map(id => navArr.value.find(c => c._id === id)).filter(Boolean)\n}\n\n// 选择分类\nfunction onCategorySelect(e) {\n  const idx = e.detail.value\n  const cat = navArr.value[idx]\n  let sel = [...selectedCategories.value]\n  if (!sel.some(c => c._id === cat._id) && sel.length >= 5) {\n    return uni.showToast({ title: '最多选择 5 个', icon: 'none' })\n  }\n  if (sel.some(c => c._id === cat._id)) {\n    sel = sel.filter(c => c._id !== cat._id)\n  } else {\n    sel.push(cat)\n  }\n  selectedCategories.value = sel\n  providerShowcase.categories = sel.map(c => c._id)\n}\n\n// 删除分类\nfunction removeCategory(index) {\n  const sel = [...selectedCategories.value]\n  sel.splice(index, 1)\n  selectedCategories.value = sel\n  providerShowcase.categories = sel.map(c => c._id)\n}\n\n// 添加媒体 (上传后立即获取临时 URL)\nfunction addMedia() {\n  uni.chooseMedia({\n    count: 1,\n    mediaType: ['image', 'video'],\n    sourceType: ['album', 'camera'],\n    success: res => {\n      const f = res.tempFiles[0]\n      const ext = f.fileType === 'video' ? 'mp4' : (f.tempFilePath.split('.').pop() || 'jpg')\n      const cloudPath = `Homepage/media/${Date.now()}-${Math.random().toString().slice(2)}.${ext}`\n      uniCloud.uploadFile({\n        filePath: f.tempFilePath,\n        cloudPath: cloudPath,\n        success: async up => {\n          console.log('上传文件成功，fileID:', up.fileID)\n          const newCloudFileID = up.fileID // 这是 cloud:// 格式\n\n          // 1. 将 cloud:// ID 存储到 providerShowcase 中（数据库同步时使用）\n          providerShowcase.mediaCloudItems.push({ src: newCloudFileID, type: f.fileType || 'image' })\n\n          // 2. 获取临时 URL 并更新 media.value (用于前端渲染)\n          try {\n            const tempURLResult = await uniCloud.getTempFileURL({\n              fileList: [newCloudFileID],\n            })\n            if (tempURLResult.fileList && tempURLResult.fileList.length > 0) {\n              const tempFileURL = tempURLResult.fileList[0].tempFileURL\n              media.value.push({ url: tempFileURL, type: f.fileType || 'image', fileID: newCloudFileID })\n              uni.showToast({ title: '上传成功', icon: 'success' })\n            } else {\n              uni.showToast({ title: '获取临时链接失败，请重试', icon: 'none' })\n            }\n          } catch (tempErr) {\n            console.error('上传后获取临时链接失败:', tempErr)\n            uni.showToast({ title: '上传后处理失败', icon: 'none' })\n          }\n        },\n        fail: e => {\n          uni.showToast({ title: '上传失败: ' + e.message, icon: 'none' })\n          console.error('上传失败:', e)\n        }\n      })\n    }\n  })\n}\n\n// 上传轮播图 (上传后立即获取临时 URL)\nfunction uploadSingleBannerImage() {\n  uni.chooseImage({\n    count: 1,\n    success: res => {\n      const fp = res.tempFilePaths[0]\n      const ext = fp.split('.').pop() || 'jpg'\n      const cloudPath = `Homepage/banners/${Date.now()}-${Math.random().toString().slice(2)}.${ext}`\n      uniCloud.uploadFile({\n        filePath: fp,\n        cloudPath: cloudPath,\n        success: async up => {\n          console.log('上传轮播图成功，fileID:', up.fileID)\n          const newCloudFileID = up.fileID // 这是 cloud:// 格式\n\n          // 1. 将 cloud:// ID 存储到 providerShowcase 中（数据库同步时使用）\n          providerShowcase.bannerCloudIDs.push(newCloudFileID)\n\n          // 2. 获取临时 URL 并更新 bannerImages.value (用于前端渲染)\n          try {\n            const tempURLResult = await uniCloud.getTempFileURL({\n              fileList: [newCloudFileID],\n            })\n            if (tempURLResult.fileList && tempURLResult.fileList.length > 0) {\n              const tempFileURL = tempURLResult.fileList[0].tempFileURL\n              bannerImages.value.push({ url: tempFileURL, fileID: newCloudFileID })\n              uni.showToast({ title: '上传成功', icon: 'success' })\n            } else {\n              uni.showToast({ title: '获取临时链接失败，请重试', icon: 'none' })\n            }\n          } catch (tempErr) {\n            console.error('上传后获取临时链接失败:', tempErr)\n            uni.showToast({ title: '上传后处理失败', icon: 'none' })\n          }\n        },\n        fail: e => {\n          uni.showToast({ title: '上传失败: ' + e.message, icon: 'none' })\n          console.error('上传失败:', e)\n        }\n      })\n    }\n  })\n}\n\n// 选择服务区域\nfunction selectServiceArea() {\n  uni.authorize({\n    scope: 'scope.userLocation',\n    success: () => getLocation()\n  })\n}\n\n// 获取位置\nfunction getLocation() {\n  uni.showLoading({ title: '定位...', mask: true })\n  uni.getLocation({\n    type: 'gcj02',\n    success: loc => {\n      const { latitude, longitude } = loc\n      providerShowcase.latitude = latitude\n      providerShowcase.longitude = longitude\n      // #ifdef MP-WEIXIN || APP-PLUS\n      qqmapsdk.reverseGeocoder({\n        location: { latitude, longitude },\n        success: r => {\n          uni.hideLoading()\n          const comp = r.result.address_component\n          const district = comp.district || ''\n          const town = comp.town || ''\n          const street = comp.street || ''\n          let area = district\n          if (town) area += `·${town}`\n          else if (street) area += `·${street}`\n          if (!area) area = '未知'\n          providerShowcase.serviceArea = area\n        },\n        fail: () => {\n          uni.hideLoading()\n          uni.showToast({ title: '地址解析失败', icon: 'none' })\n        }\n      })\n      // #endif\n    },\n    fail: () => {\n      uni.hideLoading()\n      uni.showToast({ title: '定位失败', icon: 'none' })\n    }\n  })\n}\n\n// 失焦时校验最远可服务距离\nfunction onMaxServiceDistanceBlur() {\n  let v = providerShowcase.maxServiceDistance\n  if (isNaN(v) || v <= 0) {\n    uni.showToast({ title: '请输入正确的距离', icon: 'none' })\n    providerShowcase.maxServiceDistance = 1\n  } else if (v > 10) {\n    uni.showToast({ title: '最大距离不能超过 10km', icon: 'none' })\n    providerShowcase.maxServiceDistance = 10\n  } else {\n    providerShowcase.maxServiceDistance = Math.round(v * 10) / 10\n  }\n}\n\n// 保存展示数据\nasync function saveProviderShowcase() {\n  if (!validateUserInfo(userInfo)) return\n  uni.showLoading({ title: '保存中...', mask: true })\n\n  const updateData = {\n    phoneNumber: providerShowcase.phoneNumber,\n    accountPhoneNumber: userInfo.phoneNumber,\n    userId: userInfo._id,\n    // 直接使用 providerShowcase 中的 cloud:// ID 数组\n    bannerImages: providerShowcase.bannerCloudIDs,\n    media: providerShowcase.mediaCloudItems, // 存储 {src: cloud://, type: string}\n    age: providerShowcase.age,\n    serviceArea: providerShowcase.serviceArea,\n    latitude: providerShowcase.latitude,\n    longitude: providerShowcase.longitude,\n    maxServiceDistance: providerShowcase.maxServiceDistance,\n    skills: providerShowcase.skills,\n    price: providerShowcase.price,\n    description: providerShowcase.description,\n    categories: providerShowcase.categories,\n    avatar: userInfo.avatar,\n    name: userInfo.name\n  }\n\n  try {\n    const res = await uniCloud.callFunction({\n      name: 'updateHomepage',\n      data: {\n        action: 'update',\n        phoneNumber: userInfo.phoneNumber,\n        data: updateData\n      }\n    })\n    uni.hideLoading()\n    if (res.result.success) {\n      uni.showToast({ title: '保存成功', icon: 'success' })\n      // 保存成功后，重新加载数据以确保页面显示的是最新的临时链接\n      await loadHomepageData(userInfo.phoneNumber)\n    } else {\n      uni.showToast({ title: res.result.error || '保存失败', icon: 'none' })\n    }\n  } catch (err) {\n    uni.hideLoading()\n    console.error('保存失败:', err)\n    uni.showToast({ title: '网络错误', icon: 'none' })\n  }\n}\n\n// 显示添加标签\nfunction showAddTagInput() {\n  showTagInput.value = true\n  newTagText.value = ''\n}\n\n// 确认添加标签\nfunction confirmAddTag() {\n  const newTag = newTagText.value.trim()\n  if (newTag) {\n    providerShowcase.skills.push(newTag)\n    showTagInput.value = false\n    newTagText.value = ''\n  }\n}\n\n// 取消添加标签\nfunction cancelAddTag() {\n  showTagInput.value = false\n  newTagText.value = ''\n}\n\n// 长按删除技能\nfunction onSkillLongPress(index) {\n  uni.showActionSheet({\n    itemList: ['删除该项'],\n    success: () => {\n      providerShowcase.skills.splice(index, 1)\n    }\n  })\n}\n\n// 预览轮播图\nfunction onBannerTap(index) {\n  uni.previewImage({\n    urls: bannerImages.value.map(item => item.url), // 预览使用临时 URL\n    current: bannerImages.value[index].url\n  })\n}\n\n// 长按删除轮播图\nasync function onBannerLongPress(index) {\n  uni.showActionSheet({\n    itemList: ['删除该图片'],\n    success: async () => {\n      const fileIdToDelete = bannerImages.value[index].fileID; // 获取 cloud:// ID\n      uni.showLoading({ title: '删除中...', mask: true }); // 显示加载提示\n\n      try {\n        // *** 关键修改：通过云函数调用删除文件 ***\n        const res = await uniCloud.callFunction({\n          name: 'deleteFile', // 你创建的删除文件的云函数名称\n          data: { fileId: fileIdToDelete }\n        });\n\n        if (res.result && res.result.success) {\n          // 云存储文件删除成功，再更新前端数据和数据库\n          bannerImages.value.splice(index, 1); // 从渲染数据中移除\n\n          // 从 providerShowcase.bannerCloudIDs 中移除对应的 fileID\n          const cloudIndex = providerShowcase.bannerCloudIDs.indexOf(fileIdToDelete);\n          if (cloudIndex > -1) {\n            providerShowcase.bannerCloudIDs.splice(cloudIndex, 1);\n          }\n          await saveProviderShowcase(); // 保存更改到数据库\n          uni.hideLoading(); // 隐藏加载提示\n          uni.showToast({ title: '删除成功', icon: 'success' });\n        } else {\n          uni.hideLoading(); // 隐藏加载提示\n          uni.showToast({ title: res.result.message || '云存储文件删除失败', icon: 'none' });\n          console.error('云存储文件删除失败:', res.result);\n        }\n      } catch (err) {\n        uni.hideLoading(); // 隐藏加载提示\n        console.error('删除轮播图失败:', err);\n        uni.showToast({ title: '删除失败: ' + err.message, icon: 'none' });\n      }\n    }\n  });\n}\n\n// 长按删除媒体\nasync function onMediaLongPress(index) {\n  uni.showActionSheet({\n    itemList: ['删除该内容'],\n    success: async () => {\n      const fileIdToDelete = media.value[index].fileID; // 获取 cloud:// ID\n      uni.showLoading({ title: '删除中...', mask: true }); // 显示加载提示\n\n      try {\n        // *** 关键修改：通过云函数调用删除文件 ***\n        const res = await uniCloud.callFunction({\n          name: 'deleteFile', // 你创建的删除文件的云函数名称\n          data: { fileId: fileIdToDelete }\n        });\n\n        if (res.result && res.result.success) {\n          // 云存储文件删除成功，再更新前端数据和数据库\n          media.value.splice(index, 1); // 从渲染数据中移除\n\n          // 从 providerShowcase.mediaCloudItems 中移除对应的 fileID\n          const cloudIndex = providerShowcase.mediaCloudItems.findIndex(item => item.src === fileIdToDelete);\n          if (cloudIndex > -1) {\n            providerShowcase.mediaCloudItems.splice(cloudIndex, 1);\n          }\n          await saveProviderShowcase(); // 保存更改到数据库\n          uni.hideLoading(); // 隐藏加载提示\n          uni.showToast({ title: '删除成功', icon: 'success' });\n        } else {\n          uni.hideLoading(); // 隐藏加载提示\n          uni.showToast({ title: res.result.message || '云存储文件删除失败', icon: 'none' });\n          console.error('云存储文件删除失败:', res.result);\n        }\n      } catch (err) {\n        uni.hideLoading(); // 隐藏加载提示\n        console.error('删除媒体失败:', err);\n        uni.showToast({ title: '删除失败: ' + err.message, icon: 'none' });\n      }\n    }\n  });\n}\n\n\n// 显示年龄输入\nfunction openAgeInput() {\n  showAgeInput.value = true\n  tempAge.value = providerShowcase.age\n}\n\n// 确认年龄\nfunction confirmAgeInput() {\n  if (!/^\\d+$/.test(tempAge.value)) {\n    uni.showToast({ title: '请输入有效数字', icon: 'none' })\n    return\n  }\n  providerShowcase.age = tempAge.value\n  showAgeInput.value = false\n}\n\n// 取消年龄输入\nfunction cancelAgeInput() {\n  showAgeInput.value = false\n}\n\nonMounted(() => {\n  loadHomepageData(userInfo.phoneNumber)\n  getNavData()\n})\n</script>\n\n\n<style scoped>\n/* Base container */\n.homepage-container {\n  background: #f5f5f5;\n  min-height: 100vh;\n  padding-bottom: 120rpx;\n  overflow-x: hidden;\n}\n\n.section-title {\n  font-size: 32rpx;\n  font-weight: 600;\n  color: #333;\n  padding: 24rpx;\n  border-bottom: 1rpx solid #eee;\n}\n\n/* 骨架屏样式 */\n.skeleton-title {\n  width: 60%;\n  height: 40rpx;\n  margin: 0 auto 20rpx;\n  background: #eee;\n  border-radius: 8rpx;\n}\n.skeleton-row {\n  width: 100%;\n  height: 32rpx;\n  margin-bottom: 16rpx;\n  background: #eee;\n  border-radius: 6rpx;\n}\n\n/* Input section */\n.input-section {\n  background: #fff;\n  margin: 24rpx 0;\n  padding: 0 30rpx 24rpx;\n}\n\n.common-input {\n  width: calc(100% - 48rpx);\n  height: 88rpx;\n  padding: 0 25rpx;\n  margin: 0 auto;\n  background: #f8f8f8;\n  border: 2rpx solid #eee;\n  border-radius: 12rpx;\n  font-size: 30rpx;\n  color: #333;\n  display: block;\n  transition: all 0.2s ease;\n}\n\n.common-input:focus {\n  border-color: #FFA500;\n  box-shadow: 0 4rpx 12rpx rgba(255, 165, 0, 0.1);\n}\n\n.common-input::placeholder {\n  color: #c0c0c0;\n  font-size: 28rpx;\n}\n\n.common-textarea {\n  width: calc(100% - 48rpx);\n  height: 240rpx;\n  padding: 28rpx 25rpx;\n  margin: 0 auto;\n  background: #f8f8f8;\n  border: 2rpx solid #eee;\n  border-radius: 12rpx;\n  font-size: 30rpx;\n  color: #333;\n  line-height: 1.6;\n  display: block;\n}\n\n.common-textarea:focus {\n  border-color: #FFA500;\n  box-shadow: 0 4rpx 12rpx rgba(255, 165, 0, 0.1);\n}\n\n.common-textarea::placeholder {\n  color: #c0c0c0;\n  font-size: 28rpx;\n}\n\n/* Banner section */\n.banner-swiper {\n  height: 420rpx;\n  background: #eee;\n}\n\n.empty-banner {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: #999;\n  font-size: 28rpx;\n}\n\n.upload-banner-btn {\n  margin: 24rpx;\n  padding: 16rpx;\n  background: #fff;\n  border: 2rpx dashed #FFA500;\n  border-radius: 8rpx;\n  text-align: center;\n}\n\n.upload-banner-btn text {\n  color: #FFA500;\n  font-size: 28rpx;\n}\n\n/* Category section */\n.category-section {\n  background: #fff;\n  margin: 24rpx 0;\n}\n\n.category-selector {\n  padding: 0 24rpx 24rpx;\n}\n\n.picker-btn {\n  background: #f8f8f8;\n  padding: 16rpx;\n  border-radius: 8rpx;\n  text-align: center;\n}\n\n.picker-btn text {\n  color: #FFA500;\n}\n\n.selected-categories {\n  margin-bottom: 24rpx;\n  margin-top: 24rpx;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16rpx;\n}\n\n.placeholder-text {\n  color: #999;\n  font-size: 28rpx;\n}\n\n/* Basic info */\n.basic-info {\n  padding: 24rpx;\n  background: #fff;\n  display: flex;\n  align-items: center;\n}\n\n.avatar {\n  width: 120rpx;\n  height: 120rpx;\n  border-radius: 50%;\n  margin-right: 24rpx;\n}\n\n.info-text {\n  flex: 1;\n}\n\n.name {\n  font-size: 36rpx;\n  font-weight: 600;\n  color: #333;\n  margin-bottom: 8rpx;\n}\n\n.tags, .area {\n  color: #666;\n  font-size: 28rpx;\n}\n\n.tags::before, .area::before {\n  content: '▶';\n  color: #FFA500;\n  margin-right: 8rpx;\n  font-size: 24rpx;\n}\n\n/* Editable fields */\n.editable-field {\n  position: relative;\n  display: inline-block;\n  padding: 0 8rpx;\n  border-radius: 8rpx;\n}\n\n.editable-field:active {\n  background: #f0f0f0;\n}\n\n.editable-field::after {\n  content: '✎';\n  margin-left: 8rpx;\n  font-size: 24rpx;\n  color: #FFA500;\n  opacity: 0.8;\n}\n\n.tags .editable-field {\n  color: #FFA500;\n}\n\n/* Service section */\n.service-section {\n  background: #fff;\n  margin: 24rpx 0;\n}\n\n.tag-list {\n  padding: 24rpx;\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16rpx;\n}\n\n.empty-tips {\n  width: 100%;\n  color: #999;\n  text-align: center;\n  padding: 24rpx 0;\n}\n\n.tag-item {\n  background: #f8f8f8;\n  border-radius: 40rpx;\n  padding: 12rpx 24rpx;\n}\n\n.skill-tag {\n  color: #333;\n  font-size: 28rpx;\n}\n\n.add-tag {\n  width: 64rpx;\n  height: 64rpx;\n  border-radius: 50%;\n  background: #FFA500;\n  color: #fff;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32rpx;\n}\n\n/* Case section */\n.case-section {\n  background: #fff;\n  margin: 24rpx 0;\n}\n\n.media-list {\n  padding: 24rpx;\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 16rpx;\n}\n\n.media-item {\n  aspect-ratio: 1;\n  background: #f8f8f8;\n  border-radius: 8rpx;\n  overflow: hidden;\n}\n\n.media-item image,\n.media-item video {\n  width: 100%;\n  height: 100%;\n}\n\n.media-list .add-tag {\n  aspect-ratio: 1;\n  background: #f8f8f8;\n  border: 2rpx dashed #FFA500;\n  color: #FFA500;\n  font-size: 40rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n/* Save button */\n.save-btn {\n  position: fixed;\n  bottom: 40rpx;\n  left: 30rpx;\n  right: 30rpx;\n  width: calc(100% - 60rpx);\n  background: #FFA500;\n  color: #fff;\n  height: 88rpx;\n  border-radius: 44rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 32rpx;\n  font-weight: 600;\n}\n\n/* Input popup */\n.input-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 9999;\n}\n\n.input-box {\n  width: 80%;\n  background: #fff;\n  border-radius: 16rpx;\n  padding: 32rpx;\n  z-index: 10000;\n}\n\n.tag-input {\n  height: 88rpx;\n  background: #f8f8f8;\n  border-radius: 8rpx;\n  padding: 0 24rpx;\n  margin: 32rpx 0;\n  color: #333;\n}\n\n.input-actions {\n  display: flex;\n  gap: 24rpx;\n}\n\n.action-btn {\n  flex: 1;\n  height: 80rpx;\n  border-radius: 8rpx;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.action-btn.cancel {\n  background: #f0f0f0;\n  color: #666;\n}\n\n.action-btn.confirm {\n  background: #FFA500;\n  color: #fff;\n}\n\n/* Service area */\n.service-area {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 20rpx;\n  background-color: #f5f5f5;\n  border-radius: 10rpx;\n}\n\n.service-area text {\n  color: #333;\n}\n\n.select-area-btn {\n  background-color: #FFA500;\n  color: #fff;\n  font-size: 28rpx;\n  padding: 10rpx 20rpx;\n  border-radius: 10rpx;\n}\n</style>\n","import MiniProgramPage from 'D:/peng.folder/fengdian-main/蜂点到家/pages/Homepage/Homepage.vue'\nwx.createPage(MiniProgramPage)"],"names":["uni","reactive","ref","uniCloud","onMounted"],"mappings":"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"}