{"version":3,"file":"previewList.js","sources":["pages/previewList/previewList.vue","../../../HBuilderX.4.66.2025051912/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvcHJldmlld0xpc3QvcHJldmlld0xpc3QudnVl"],"sourcesContent":["<template>\n\t<view class=\"header-emptybox\">\n\t\t<text class=\"profile-title\">工人</text>\n\t</view>\n  <view class=\"container\">\n    <!-- 分类导航 -->\n    <scroll-view\n      class=\"nav-scroll\"\n      scroll-x\n      scroll-with-animation\n      :scroll-left=\"scrollLeft\"\n      @scroll=\"onScroll\"\n    >\n      <view class=\"nav-container\">\n        <view\n          v-for=\"(item, index) in categories\"\n          :key=\"item.type\"\n          :id=\"`nav_${index}`\"\n          class=\"nav-item\"\n          :class=\"{ \n            active: currentCategory === item.type,\n            'animate-active': currentCategory === item.type && animateActive\n          }\"\n          @click=\"switchCategory(item.type, index)\"\n        >\n          <view class=\"nav-item-inner\">{{ item.name }}</view>\n        </view>\n      </view>\n    </scroll-view>\n\n    <!-- 服务列表 -->\n    <view class=\"list-container\" :class=\"{ fade: isFading }\">\n      <!-- 骨架屏 -->\n      <view class=\"skeleton\" v-if=\"!isLoaded && !hasError\">\n        <view class=\"skeleton-card\" v-for=\"i in 3\" :key=\"i\">\n          <view class=\"skeleton-avatar\"></view>\n          <view class=\"skeleton-content\">\n            <view class=\"skeleton-title\"></view>\n            <view class=\"skeleton-desc\"></view>\n          </view>\n        </view>\n      </view>\n\n      <!-- 错误提示 -->\n      <view v-else-if=\"hasError\" class=\"error-state\">\n        <text class=\"error-message\">网络不佳，数据加载失败。</text>\n        <button class=\"retry-btn\" @click=\"retryLoad\">点击重试</button>\n      </view>\n\n      <!-- 列表或无数据 -->\n      <view v-else>\n        <view v-if=\"filteredList.length > 0\">\n          <view\n            class=\"service-card\"\n            v-for=\"(item, idx) in filteredList\"\n            :key=\"item.id\"\n            @click=\"navigateDetail(item.id)\"\n          >\n            <!-- 你的卡片渲染逻辑保持不变 -->\n            <view class=\"top-right-container\">\n              <text class=\"service-area\">{{ item.serviceArea || '未知' }}</text>\n              <view class=\"distance-container\" :class=\"{ hidden: !item.distance }\">\n                <text class=\"distance-text\">{{ item.distance }}</text>\n              </view>\n            </view>\n            <view class=\"left-column\">\n              <view class=\"img-container\">\n                <image\n                  class=\"service-img\"\n                  :src=\"item.avatar || '/static/images/default-avatar.jpg'\"\n                  mode=\"aspectFill\"\n                />\n              </view>\n            </view>\n            <view class=\"content-wrapper\">\n              <view class=\"title-row\">\n                <text class=\"service-title\">{{ item.title }}</text>\n              </view>\n              <view class=\"info-section\">\n                <view class=\"info-item\">\n                  <text class=\"info-value\">{{ item.categoriesDisplay || '暂无分类' }}</text>\n                </view>\n                <view class=\"info-item\">\n                  <text class=\"info-value desc-text\">{{ item.description || '' }}</text>\n                </view>\n              </view>\n              <view class=\"skills-container\">\n                <view\n                  class=\"skill-tag\"\n                  v-for=\"(skill, skillIndex) in item.skills\"\n                  :key=\"skillIndex\"\n                >\n                  {{ skill }}\n                </view>\n              </view>\n            </view>\n          </view>\n        </view>\n        <view v-else class=\"no-data\">当前分类没有用户数据</view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script setup>\nimport { ref, onMounted, nextTick, watch } from 'vue';\nimport { onShow } from '@dcloudio/uni-app'\n\nconst categories = ref([]);\nconst navArr = ref([]);\nconst serviceList = ref([]);\nconst filteredList = ref([]);\nconst isLoaded = ref(false); // 控制骨架屏和内容显示\nconst hasError = ref(false); // 新增：控制错误提示显示\nconst scrollLeft = ref(0);\nconst currentCategory = ref('all');\nconst animateActive = ref(false);\nconst isFading = ref(false);\nconst initialCategoryId = ref(null); // 新增：存储初始分类ID\n\nlet lastKnownScrollLeft = 0;\nlet scrollTimer = null;\n\n// 新增：监听分类数据变化\nwatch(categories, (newVal) => {\n  if (newVal.length > 0 && initialCategoryId.value) {\n    applyInitialCategory();\n  }\n});\n\n// 页面显示时读取初始分类ID\nonShow(() => {\n  const initId = uni.getStorageSync('initialCategoryId');\n  if (initId) {\n    uni.removeStorageSync('initialCategoryId');\n    initialCategoryId.value = initId;\n    if (categories.value.length > 0) {\n      applyInitialCategory();\n    }\n  }\n});\n\nonMounted(async () => {\n  await initialLoadData();\n});\n\n// 新增：初始加载数据函数，包含错误处理\nasync function initialLoadData() {\n  isLoaded.value = false; // 重置加载状态\n  hasError.value = false; // 重置错误状态\n  uni.showLoading({ title: '加载中...', mask: true }); // 显示全局加载提示\n\n  try {\n    await loadNav(); // 加载分类\n    await loadServices(); // 加载服务列表\n  } catch (e) {\n    console.error('Initial data load failed:', e);\n    hasError.value = true; // 设置错误状态\n    uni.showToast({ title: '数据加载失败，请重试', icon: 'none' });\n  } finally {\n    isLoaded.value = true; // 无论成功失败，都隐藏骨架屏\n    uni.hideLoading(); // 隐藏全局加载提示\n  }\n}\n\n// 新增：重试加载数据\nfunction retryLoad() {\n  initialLoadData();\n}\n\n\nasync function loadNav() {\n  try {\n    const { result } = await uniCloud.callFunction({ name: 'getNavData' });\n    const navData = result.data || [];\n    navArr.value = navData;\n    categories.value = [{ type: 'all', name: '全部' }].concat(\n      navData.map(i => ({ type: i._id, name: i.classname }))\n    );\n  } catch (e) {\n    console.error('加载分类数据失败:', e);\n    throw new Error('加载分类失败'); // 抛出错误，让上层捕获\n  }\n}\n\nasync function loadServices() {\n  try {\n    // 1. 获取推荐列表\n    const { result } = await uniCloud.callFunction({\n      name: 'getRecommendedHomepages',\n      data: { userLocation: uni.getStorageSync('userLocation') || {} }\n    });\n    const data = result.data || [];\n  \n    // 2. 前端计算距离并格式化\n    const userLocation = uni.getStorageSync('userLocation') || {};\n    const formatted = data.map(i => {\n      let distance = '';\n      if (\n        userLocation.latitude != null &&\n        userLocation.longitude != null &&\n        i.latitude != null &&\n        i.longitude != null\n      ) {\n        const d = calculateDistance(\n          userLocation.latitude,\n          userLocation.longitude,\n          i.latitude,\n          i.longitude\n        );\n        distance = `${d.toFixed(1)}公里`;\n      }\n      const categoriesDisplay = (i.categories || [])\n        .map(id => {\n          const cat = navArr.value.find(c => c._id === id);\n          return cat ? cat.classname : '';\n        })\n        .filter(Boolean)\n        .join(', ') || '暂无分类';\n  \n      return {\n        id: i._id,\n        title: (i.name || '未命名').slice(0, 5),\n        serviceArea: i.serviceArea,\n        avatar: i.avatar || '',\n        description: i.description || '',\n        skills: i.skills || [],\n        categories: i.categories || [],\n        distance,\n        categoriesDisplay\n      };\n    });\n    serviceList.value = formatted;\n    filteredList.value = formatted;\n  } catch (e) {\n    console.error('加载服务列表数据失败:', e);\n    throw new Error('加载服务列表失败'); // 抛出错误，让上层捕获\n  }\n}\n\n// 新增：应用初始分类\nfunction applyInitialCategory() {\n  const initId = initialCategoryId.value;\n  if (!initId) return;\n  \n  const idx = categories.value.findIndex(c => c.type === initId);\n  if (idx !== -1) {\n    switchCategory(initId, idx);\n  }\n  \n  // 重置初始分类ID\n  initialCategoryId.value = null;\n}\n\nfunction switchCategory(type, idx) {\n  if (currentCategory.value === type) return;\n  isFading.value = true;\n  setTimeout(() => {\n    currentCategory.value = type;\n    animateActive.value = true;\n    filteredList.value =\n      type === 'all'\n        ? serviceList.value\n        : serviceList.value.filter(i => i.categories.includes(type));\n    nextTick(() => scrollToCategory(idx));\n    setTimeout(() => {\n      isFading.value = false;\n      animateActive.value = false;\n    }, 300);\n  }, 10);\n}\n\nfunction scrollToCategory(idx) {\n  uni.createSelectorQuery()\n    .select(`#nav_${idx}`)\n    .boundingClientRect()\n    .select('.nav-scroll')\n    .boundingClientRect()\n    .exec(([itemRect, scrollRect]) => {\n      if (!itemRect || !scrollRect) return;\n      const offset = lastKnownScrollLeft +\n        (itemRect.left + itemRect.width/2) -\n        (scrollRect.width/2);\n      scrollLeft.value = offset;\n      lastKnownScrollLeft = offset;\n    });\n}\n\nfunction onScroll(e) {\n  if (scrollTimer) clearTimeout(scrollTimer);\n  scrollTimer = setTimeout(() => {\n    lastKnownScrollLeft = e.detail.scrollLeft;\n  }, 100);\n}\n\nfunction navigateDetail(id) {\n  if (!id) return;\n  uni.navigateTo({ url: `/pages/HomepageDetail/HomepageDetail?id=${id}` });\n}\n\nfunction calculateDistance(lat1, lng1, lat2, lng2) {\n  const rad = d => (d * Math.PI) / 180;\n  const R = 6371;\n  const dLat = rad(lat2 - lat1);\n  const dLng = rad(lng2 - lng1);\n  const a = Math.sin(dLat/2)**2 +\n            Math.cos(rad(lat1))*Math.cos(rad(lat2))*Math.sin(dLng/2)**2;\n  return 2 * R * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n}\n\nfunction handleLogout() {\n  // 1. 清除本地缓存\n  uni.removeStorageSync('userinfo');\n  uni.removeStorageSync('token'); // 如果有token的话\n\n  // 2. 触发全局退出登录事件\n  // 这会通知 App.vue 停止监听并移除 tabBar 角标\n  uni.$emit('user-logout');\n\n  // 3. 提示用户并跳转到登录页\n  uni.showToast({\n    title: '已退出登录',\n    icon: 'none'\n  });\n\n  // 使用 reLaunch 跳转到登录页，清空页面栈\n  uni.reLaunch({\n    url: '/pages/login/login'\n  });\n}\n</script>\n\n\n<style lang=\"scss\">\n/* Color variables */\n$primary-color: #4285F4;\n$surface-color: #FFFFFF;\n$secondary-text: #5F6368;\n$primary-text: #202124;\n$shadow-color: rgba(0, 0, 0, 0.1);\n.header-emptybox {\n  width: 100%;\n  height: 230rpx;\n  position: relative; // 必须加这个，才能让子元素绝对定位生效\n}\n.profile-title {\n  position: absolute;            // ✅ 缺失的关键属性\n  font-size: 55rpx;            // 字体大\n  font-weight: 580;            // 半粗体，接近 Airbnb 标题\n  color: #1c1c1e;             // 深灰，比纯黑柔和\n  font-family: \"Helvetica Neue\", \"PingFang SC\", \"Helvetica\", \"Arial\", sans-serif; // Airbnb 常用字体替代\n  top: 130rpx;                 // ✅ 从容器顶部下移 50rpx\n  left: 35rpx;\n}\n/* Navigation Bar */\n.nav-scroll {\n  background: $surface-color;\n  padding: 12rpx 0;\n  box-shadow: 0 1px 2px $shadow-color;\n  white-space: nowrap;\n  position: relative;\n  z-index: 10;\n  overflow: hidden;\n  \n  &::-webkit-scrollbar {\n    display: none;\n  }\n\n  .nav-container {\n    display: flex;\n    padding: 0 32rpx;\n    position: relative;\n  }\n\n  .nav-item {\n    flex-shrink: 0;\n    padding: 16rpx 0;\n    margin: 0 12rpx;\n    font-size: 28rpx;\n    color: $secondary-text;\n    border-radius: 999rpx;\n    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n    transform-origin: center;\n    position: relative;\n    z-index: 1;\n    \n    &-inner {\n      padding: 16rpx 32rpx;\n      transition: all 0.3s ease;\n      display: block;\n    }\n\n    &.active {\n      color: $primary-color;\n      font-weight: 500;\n      \n      .nav-item-inner {\n        position: relative;\n        z-index: 2;\n      }\n      \n      &::before {\n        content: '';\n        position: absolute;\n        top: 50%;\n        left: 50%;\n        width: 100%;\n        height: 100%;\n        background: rgba($primary-color, 0.1);\n        border-radius: 999rpx;\n        transform: translate(-50%, -50%) scale(1);\n        z-index: 1;\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      }\n    }\n    \n    &.animate-active {\n      transform: scale(1.05);\n      \n      &::before {\n        transform: translate(-50%, -50%) scale(1.15);\n        opacity: 0.8;\n      }\n    }\n    \n    &:not(.active) {\n      &:hover, &:active {\n        transform: scale(0.95);\n        opacity: 0.9;\n      }\n    }\n  }\n}\n\n/* Service List Container */\n.list-container {\n  padding: 32rpx;\n  background: #F8F9FA;\n  transition: opacity 0.3s ease;\n  \n  &.fade {\n    opacity: 0;\n  }\n}\n\n/* Service Card */\n.service-card {\n  position: relative;\n  background: $surface-color;\n  border-radius: 24rpx;\n  margin-bottom: 32rpx;\n  padding: 24rpx;\n  display: flex;\n  box-shadow: 0 4rpx 8rpx $shadow-color;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:active {\n    transform: scale(0.98);\n    box-shadow: 0 8rpx 16rpx rgba(0, 0, 0, 0.15);\n  }\n\n  .top-right-container {\n    position: absolute;\n    top: 24rpx;\n    right: 24rpx;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-end;\n    z-index: 2;\n\n    .service-area {\n      font-size: 28rpx;\n      color: $secondary-text;\n      margin-bottom: 8rpx;\n    }\n\n    .distance-container {\n      background: rgba($primary-color, 0.1);\n      padding: 8rpx 16rpx;\n      border-radius: 16rpx;\n      transition: opacity 0.2s;\n\n      .distance-text {\n        color: $primary-color;\n        font-size: 24rpx;\n        font-weight: 500;\n      }\n\n      &.hidden {\n        opacity: 0;\n        pointer-events: none;\n      }\n    }\n  }\n\n  .left-column {\n    width: 160rpx;\n    margin-right: 24rpx;\n    flex-shrink: 0;\n\n    .img-container {\n      width: 160rpx;\n      height: 160rpx;\n      border-radius: 50%;\n      overflow: hidden;\n      transition: transform 0.3s;\n\n      .service-img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        transition: transform 0.3s;\n      }\n    }\n  }\n\n  .content-wrapper {\n    flex: 1;\n    min-width: 0;\n    padding-right: 120rpx;\n\n    .title-row {\n      margin-bottom: 16rpx;\n\n      .service-title {\n        font-size: 34rpx;\n        color: $primary-text;\n        font-weight: 600;\n        line-height: 1.4;\n        transition: color 0.2s;\n      }\n    }\n\n    .info-section {\n      margin-bottom: 16rpx;\n\n      .info-item {\n        display: flex;\n        margin-bottom: 8rpx;\n\n        .info-value {\n          font-size: 28rpx;\n          color: $primary-text;\n          overflow: hidden;\n          text-overflow: ellipsis;\n\n          &.desc-text {\n            min-height: 30px;\n            line-height: 30px;\n            display: -webkit-box;\n            -webkit-box-orient: vertical;\n            -webkit-line-clamp: 2;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            line-height: 1.5;\n            white-space: normal;\n            overflow-wrap: break-word;\n            word-break: keep-all;\n          }\n        }\n      }\n    }\n\n    .skills-container {\n      margin-top: 16rpx;\n      display: flex;\n      flex-wrap: wrap;\n      gap: 12rpx;\n      overflow: hidden;\n      padding-bottom: 8rpx;\n      margin-left: -170rpx;\n      width: calc(100% + 270rpx);\n\n      .skill-tag {\n        flex-shrink: 0;\n        background: #F1F3F4;\n        color: #3C4043;\n        padding: 8rpx 16rpx;\n        border-radius: 20rpx;\n        font-size: 24rpx;\n        transition: all 0.2s;\n      }\n    }\n  }\n  \n  &:hover {\n    .service-title {\n      color: $primary-color;\n    }\n    \n    .img-container {\n      transform: scale(1.05);\n    }\n  }\n}\n\n/* Skeleton Loading Style */\n.skeleton {\n  padding: 32rpx;\n  \n  .skeleton-card {\n    background: $surface-color;\n    border-radius: 24rpx;\n    margin-bottom: 32rpx;\n    padding: 24rpx;\n    display: flex;\n    align-items: center;\n    animation: skeleton-pulse 1.5s infinite;\n    \n    .skeleton-avatar {\n      width: 160rpx;\n      height: 160rpx;\n      border-radius: 50%;\n      background: #e0e0e0;\n      margin-right: 24rpx;\n    }\n    \n    .skeleton-content {\n      flex: 1;\n      \n      .skeleton-title {\n        width: 80%;\n        height: 34rpx;\n        background: #e0e0e0;\n        margin-bottom: 16rpx;\n        border-radius: 8rpx;\n      }\n      \n      .skeleton-desc {\n        width: 60%;\n        height: 28rpx;\n        background: #e0e0e0;\n        border-radius: 8rpx;\n      }\n    }\n  }\n  \n  @keyframes skeleton-pulse {\n    0%, 100% { opacity: 1; }\n    50% { opacity: 0.5; }\n  }\n}\n\n/* No Data Hint */\n.no-data {\n  text-align: center;\n  color: $secondary-text;\n  font-size: 28rpx;\n  padding: 32rpx;\n}\n\n/* New: Error State Styles */\n.error-state {\n  text-align: center;\n  padding: 60rpx;\n  color: #ff3b30; /* 红色错误提示 */\n  font-size: 28rpx;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 300rpx; /* 确保有足够高度显示 */\n}\n\n.error-message {\n  margin-bottom: 30rpx;\n  font-size: 32rpx;\n  font-weight: bold;\n}\n\n.retry-btn {\n  background-color: #007aff;\n  color: #fff;\n  padding: 20rpx 40rpx;\n  border-radius: 50rpx;\n  font-size: 28rpx;\n  border: none;\n  outline: none;\n  &:active {\n    opacity: 0.8;\n  }\n}\n</style>\n","import MiniProgramPage from 'D:/peng.folder/fengdian-main/fengdian-main/pages/previewList/previewList.vue'\ntt.createPage(MiniProgramPage)"],"names":["ref","watch","onShow","uni","onMounted","uniCloud","nextTick","MiniProgramPage"],"mappings":"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"}