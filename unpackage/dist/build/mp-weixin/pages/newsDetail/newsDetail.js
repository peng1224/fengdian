"use strict";const e=require("../../common/vendor.js");if(!Array){(e.resolveComponent("uni-skeleton")+e.resolveComponent("uni-icons"))()}Math;const t={__name:"newsDetail",setup(t){const n=e.ref(null);return e.onLoad((t=>{!async function(t){try{e.index.showLoading({title:"加载中..."});const o=await e.nr.callFunction({name:"getNewsDetail",data:{id:t}});if(o.result&&o.result.data){const e=o.result.data;e.publish_date=function(e){if(!e)return"";const t=new Date(e);return`${t.getMonth()+1}-${t.getDate()}`}(e.publish_date),e.view_count=(a=e.view_count)>1e4?(a/1e4).toFixed(1)+"万":a,e.content=e.content.replace(/<p/gi,"<p class='pstyle'"),e.content=e.content.replace(/<img/gi,"<img class='imgstyle'"),n.value=e}}catch(o){console.error("获取新闻详情失败",o),e.index.showToast({title:"加载失败",icon:"none"})}finally{e.index.hideLoading()}var a}(t.id)})),(t,a)=>e.e({a:!n.value},n.value?{c:e.t(n.value.title),d:e.t(n.value.publish_date),e:e.t(n.value.author),f:e.t(n.value.view_count),g:e.p({type:"paperplane",size:"18"}),h:n.value.content}:{b:e.p({title:!0,row:5})})}},n=e._export_sfc(t,[["__scopeId","data-v-bf817879"]]);wx.createPage(n);
